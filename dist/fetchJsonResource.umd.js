!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(r=r||self).fetchJsonResource=n()}(this,function(){function r(){return(r=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r}).apply(this,arguments)}return"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),function(n,e){try{var o=function(){var r=window&&void 0!==window.self?window.self:global;return!("function"==typeof r.Request&&!r.Request.prototype.hasOwnProperty("signal")||!r.AbortController)}()?function(n){var e=new AbortController;return setTimeout(function(){return e.abort()},1e4),r({},n,{signal:e.signal})}(e):e;return Promise.resolve(fetch(n,o).then(function(r){return function(r){try{return Promise.resolve(function(n,e){try{var o=Promise.resolve(r.json()).then(function(r){return r.code?(r.id=r.id||((n=r.type)?n.split(":").pop():null),Promise.reject(r)):r;var n})}catch(r){return e(r)}return o&&o.then?o.then(void 0,e):o}(0,function(r){return Promise.reject(r)}))}catch(r){return Promise.reject(r)}}(r)}).catch(function(r){return function(r){return r=r&&20===r.code&&"AbortError"===r.name?{code:-1,id:"network-timeout",message:"Network timeout",type:"app:network-timeout"}:{code:r.code||-1,id:r.id||"network-error",message:r.message||"unknown error",type:r.type||"app:unknown-error"},Promise.reject(r)}(r)}))}catch(r){return Promise.reject(r)}}});
//# sourceMappingURL=fetchJsonResource.umd.js.map
