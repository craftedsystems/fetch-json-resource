!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(n=n||self).fetchJsonResource=e()}(this,(function(){function n(){return(n=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}return"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),function(e,t){try{return function(){var n=void 0!==window.self?window.self:global;return!("function"==typeof n.Request&&!n.Request.prototype.hasOwnProperty("signal")||!n.AbortController)}()&&(t=function(e){var t=new AbortController;return setTimeout((function(){return t.abort()}),1e4),n({},e,{signal:t.signal})}(t)),Promise.resolve(fetch(e,t).then((function(n){return function(n){try{return Promise.resolve(function(e,t){try{var r=Promise.resolve(n.json()).then((function(n){var e;return n.code&&void 0===n.id&&(n.id=(e=n.type)?e.split(":").pop():null),n}))}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}(0,(function(n){return{code:-1,id:"unknown",message:n.message,type:"app:unknown"}})))}catch(n){return Promise.reject(n)}}(n)})).catch((function(n){return function(n){return n&&20===n.code&&"AbortError"===n.name?{code:-1,id:"network-timeout",message:"Network timeout",type:"app:network-timeout"}:{code:-1,id:"network-error",message:n.message,type:"app:network-error"}}(n)})))}catch(n){return Promise.reject(n)}}}));
//# sourceMappingURL=fetchResource.umd.js.map
