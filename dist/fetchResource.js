function r(){return(r=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r}).apply(this,arguments)}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),module.exports=function(n,t){try{return("function"!=typeof(o=void 0!==window.self?window.self:global).Request||o.Request.prototype.hasOwnProperty("signal"))&&o.AbortController&&(t=function(n){var t=new AbortController;return setTimeout((function(){return t.abort()}),1e4),r({},n,{signal:t.signal})}(t)),Promise.resolve(fetch(n,t).then((function(r){return function(r){try{return Promise.resolve(function(n,t){try{var o=Promise.resolve(r.json()).then((function(r){var n;return r.code&&void 0===r.id&&(r.id=(n=r.type)?n.split(":").pop():null),r}))}catch(r){return t(r)}return o&&o.then?o.then(void 0,t):o}(0,(function(r){return{code:-1,id:"unknown",message:r.message,type:"app:unknown"}})))}catch(r){return Promise.reject(r)}}(r)})).catch((function(r){return function(r){return r&&20===r.code&&"AbortError"===r.name?{code:-1,id:"network-timeout",message:"Network timeout",type:"app:network-timeout"}:{code:-1,id:"network-error",message:r.message,type:"app:network-error"}}(r)})))}catch(r){return Promise.reject(r)}var o};
//# sourceMappingURL=fetchResource.js.map
